# Health Track Personal Wellness Platform

Health Trackä¸ªäººå¥åº·å¹³å° - Phase 3å®ç°

## é¡¹ç›®ç®€ä»‹

Health Trackæ˜¯ä¸€ä¸ªä¸ªäººå¥åº·ç®¡ç†å¹³å°ï¼Œå…è®¸ç”¨æˆ·è·Ÿè¸ªå¥åº·æŒ‡æ ‡ã€ç®¡ç†åŒ»ç–—é¢„çº¦ã€åˆ›å»ºå’Œå‚ä¸å¥åº·æŒ‘æˆ˜ç­‰ã€‚ç³»ç»Ÿå®ç°äº†å®Œæ•´çš„åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶(RBAC)ï¼Œä¸åŒè§’è‰²çš„ç”¨æˆ·æ‹¥æœ‰ä¸åŒçš„åŠŸèƒ½æƒé™ã€‚

## æŠ€æœ¯æ ˆ

- **åç«¯**: Java Servlets + JSP
- **æ•°æ®åº“**: MySQL 8.0
- **æ„å»ºå·¥å…·**: Maven
- **WebæœåŠ¡å™¨**: Apache Tomcat
- **å‰ç«¯**: HTML5, CSS3, JavaScript (JSTL)

## é¡¹ç›®ç»“æ„

```
assign3/
â”œâ”€â”€ sql/
â”‚   â”œâ”€â”€ create_tables.sql       # æ•°æ®åº“è¡¨ç»“æ„
â”‚   â”œâ”€â”€ create_triggers.sql     # æ•°æ®åº“è§¦å‘å™¨
â”‚   â””â”€â”€ populate_data.sql       # æ ·æœ¬æ•°æ®
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/com/healthtrack/
â”‚       â”‚   â”œâ”€â”€ model/          # å®ä½“ç±»
â”‚       â”‚   â”œâ”€â”€ dao/            # æ•°æ®è®¿é—®å±‚
â”‚       â”‚   â”œâ”€â”€ servlet/        # æ§åˆ¶å™¨
â”‚       â”‚   â””â”€â”€ util/           # å·¥å…·ç±»
â”‚       â””â”€â”€ webapp/
â”‚           â”œâ”€â”€ WEB-INF/
â”‚           â”‚   â””â”€â”€ web.xml     # Webé…ç½®
â”‚           â”œâ”€â”€ css/            # æ ·å¼æ–‡ä»¶
â”‚           â”œâ”€â”€ js/             # JavaScriptæ–‡ä»¶
â”‚           â””â”€â”€ jsp/            # JSPé¡µé¢
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ project_d3.md           # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ pom.xml                     # Mavené…ç½®
â””â”€â”€ README.md                   # æœ¬æ–‡ä»¶
```

## ç¯å¢ƒè¦æ±‚

- Java JDK 11 æˆ–æ›´é«˜ç‰ˆæœ¬
- Maven 3.6+
- MySQL 8.0+
- Apache Tomcat 9.0+ æˆ–ä½¿ç”¨Maven Tomcatæ’ä»¶

## å®‰è£…æ­¥éª¤

### 1. æ•°æ®åº“è®¾ç½®

1. å¯åŠ¨MySQLæœåŠ¡å™¨

2. åˆ›å»ºæ•°æ®åº“ï¼ˆå¯é€‰ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰:
```sql
CREATE DATABASE healthtrack CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

3. æ‰§è¡ŒSQLè„šæœ¬ï¼ˆæŒ‰é¡ºåºï¼‰:
```bash
mysql -u root -p < sql/create_tables.sql
mysql -u root -p < sql/create_triggers.sql
mysql -u root -p < sql/populate_data.sql
```

æˆ–è€…ç›´æ¥åœ¨MySQLå®¢æˆ·ç«¯ä¸­æ‰§è¡Œï¼š
```sql
source sql/create_tables.sql;
source sql/create_triggers.sql;
source sql/populate_data.sql;
```

### 2. é…ç½®æ•°æ®åº“è¿æ¥

ç¼–è¾‘ `src/main/java/com/healthtrack/util/DBConnection.java`ï¼Œä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼š

```java
private static final String DB_URL = "jdbc:mysql://localhost:3306/healthtrack?useSSL=false&serverTimezone=UTC&characterEncoding=utf8&allowPublicKeyRetrieval=true";
private static final String DB_USER = "root";        // ä¿®æ”¹ä¸ºä½ çš„MySQLç”¨æˆ·å
private static final String DB_PASSWORD = "root";   // ä¿®æ”¹ä¸ºä½ çš„MySQLå¯†ç 
```

### 3. æ„å»ºé¡¹ç›®

ä½¿ç”¨Mavenæ„å»ºé¡¹ç›®ï¼š

```bash
mvn clean package
```

è¿™å°†ç”Ÿæˆ `target/health-track.war` æ–‡ä»¶ã€‚

### 4. éƒ¨ç½²åº”ç”¨

#### æ–¹å¼1: ä½¿ç”¨Maven Tomcatæ’ä»¶ï¼ˆæ¨èç”¨äºå¼€å‘ï¼‰

```bash
mvn tomcat7:run
```

åº”ç”¨å°†åœ¨ `http://localhost:8080/healthtrack` è¿è¡Œã€‚

#### æ–¹å¼2: éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨

1. å°† `target/health-track.war` å¤åˆ¶åˆ°Tomcatçš„ `webapps/` ç›®å½•
2. å¯åŠ¨TomcatæœåŠ¡å™¨
3. è®¿é—® `http://localhost:8080/health-track`

## ä½¿ç”¨è¯´æ˜

### ç™»å½•ç³»ç»Ÿ

1. è®¿é—®åº”ç”¨é¦–é¡µ
2. ä½¿ç”¨ä»¥ä¸‹Health IDä¹‹ä¸€ç™»å½•ï¼š

| å¥åº·ID | ç”¨æˆ·è§’è‰² | å§“å | è¯´æ˜ |
|--------|----------|------|------|
| HT001 | Patient | å¼ ä¼Ÿ | æ™®é€šæ‚£è€…ç”¨æˆ· |
| HT002 | Patient | ææ¢… | æ™®é€šæ‚£è€…ç”¨æˆ· |
| HT003 | Patient | ç‹åˆš | æ™®é€šæ‚£è€…ç”¨æˆ· |
| HT004 | Caregiver | åˆ˜èŠ³ | ç…§é¡¾è€…ç”¨æˆ·ï¼ˆå…³è”äº†æ‚£è€…ï¼‰ |
| HT005 | Patient | é™ˆæ˜ | æ™®é€šæ‚£è€…ç”¨æˆ· |
| HT006 | Patient | èµµä¸½ | æ™®é€šæ‚£è€…ç”¨æˆ· |
| HT007 | Provider | å­™ç£Š | åŒ»ç–—æœåŠ¡æä¾›è€… |
| HT008 | Patient | å´é™ | æ™®é€šæ‚£è€…ç”¨æˆ·ï¼ˆæœªæ¿€æ´»ï¼‰ |
| HT009 | Caregiver | å¾è¾‰ | ç…§é¡¾è€…ç”¨æˆ· |
| HT010 | Admin | é©¬ç³ | ç³»ç»Ÿç®¡ç†å‘˜ |

## ç”¨æˆ·è§’è‰²ä¸æƒé™

### ğŸ‘¤ æ‚£è€… (Patient)

**å¯ç”¨åŠŸèƒ½ï¼š**
- âœ… é¢„çº¦åŒ»ç–—æœåŠ¡æä¾›è€…
- âœ… æŸ¥çœ‹å’Œæ¥å—åŒ»ç”Ÿå‘èµ·çš„å¥åº·æŒ‘æˆ˜é‚€è¯·
- âœ… æ›´æ–°æŒ‘æˆ˜è¿›åº¦
- âœ… æŸ¥çœ‹ä¸ªäººæœˆåº¦å¥åº·æ±‡æ€»
- âœ… ç®¡ç†ä¸ªäººåŸºæœ¬ä¿¡æ¯ï¼ˆå§“åï¼‰
- âœ… ç®¡ç†é‚®ç®±å’Œæ‰‹æœºå·
- âœ… å…³è”åŒ»ç–—æœåŠ¡æä¾›è€…
- âœ… æ‰¹å‡†/æ‹’ç»ç…§é¡¾è€…çš„å…³è”è¯·æ±‚

**é™åˆ¶ï¼š**
- âŒ ä¸èƒ½ä¿®æ”¹è´¦æˆ·çŠ¶æ€
- âŒ ä¸èƒ½ä¿®æ”¹ç”¨æˆ·è§’è‰²
- âŒ ä¸èƒ½åˆ›å»ºå¥åº·æŒ‘æˆ˜ï¼ˆåªèƒ½æ¥å—é‚€è¯·ï¼‰

### ğŸ©º åŒ»ç–—æœåŠ¡æä¾›è€… (Provider)

**å¯ç”¨åŠŸèƒ½ï¼š**
- âœ… åˆ›å»ºå¥åº·æŒ‘æˆ˜
- âœ… é‚€è¯·æ‚£è€…å‚ä¸æŒ‘æˆ˜
- âœ… æŸ¥çœ‹æŒ‘æˆ˜å‚ä¸è€…å’Œè¿›åº¦
- âœ… æŸ¥çœ‹å’Œç®¡ç†æ‚£è€…çš„é¢„çº¦è¯·æ±‚
- âœ… æœç´¢æ‚£è€…å¥åº·è®°å½•
- âœ… ç®¡ç†ä¸ªäººèµ„è´¨ä¿¡æ¯

**ç‰¹æœ‰åŠŸèƒ½ï¼š**
- ğŸ¯ åªæœ‰Providerå¯ä»¥åˆ›å»ºå¥åº·æŒ‘æˆ˜
- ğŸ¯ åªæœ‰Providerå¯ä»¥é‚€è¯·æ‚£è€…å‚åŠ æŒ‘æˆ˜

### ğŸ’ ç…§é¡¾è€… (Caregiver)

**å¯ç”¨åŠŸèƒ½ï¼š**
- âœ… ç”³è¯·å…³è”æ‚£è€…ï¼ˆå‘é€ç…§é¡¾è¯·æ±‚ï¼‰
- âœ… ç›‘æ§å·²å…³è”æ‚£è€…çš„å¥åº·çŠ¶å†µ
  - æŸ¥çœ‹æ‚£è€…çš„é¢„çº¦è®°å½•
  - æŸ¥çœ‹æ‚£è€…çš„æŒ‘æˆ˜å‚ä¸æƒ…å†µ
  - æŸ¥çœ‹æ‚£è€…çš„æœˆåº¦å¥åº·æ±‡æ€»
- âœ… æ¥å—åŒ»ç”Ÿå‘èµ·çš„å¥åº·æŒ‘æˆ˜é‚€è¯·
- âœ… ä¸ºè¢«ç…§é¡¾è€…é¢„çº¦åŒ»ç–—æœåŠ¡
- âœ… ç®¡ç†ä¸ªäººä¿¡æ¯

**ç‰¹æœ‰åŠŸèƒ½ï¼š**
- ğŸ’ æ‚£è€…ç›‘æŠ¤ä¸­å¿ƒï¼šä¸“å±ç›‘æŠ¤é¡µé¢
- ğŸ’ éœ€è¦æ‚£è€…ç¡®è®¤åæ‰èƒ½å»ºç«‹ç…§é¡¾å…³ç³»

### âš™ï¸ ç®¡ç†å‘˜ (Admin)

**å¯ç”¨åŠŸèƒ½ï¼š**
- âœ… ç®¡ç†æ‰€æœ‰ç”¨æˆ·çš„è´¦æˆ·çŠ¶æ€ï¼ˆActive/Inactive/Suspendedï¼‰
- âœ… ç®¡ç†æ‰€æœ‰ç”¨æˆ·çš„è§’è‰²åˆ†é…
- âœ… éªŒè¯åŒ»ç–—æœåŠ¡æä¾›è€…èµ„è´¨
- âœ… æŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡æ•°æ®
- âœ… æœç´¢å…¨ç³»ç»Ÿå¥åº·è®°å½•
- âœ… ç®¡ç†å¥åº·æŒ‘æˆ˜æ´»åŠ¨

**ç‰¹æœ‰åŠŸèƒ½ï¼š**
- âš™ï¸ ç³»ç»Ÿç®¡ç†ä¸­å¿ƒï¼šç”¨æˆ·å’Œæä¾›è€…ç®¡ç†
- âš™ï¸ ç”¨æˆ·è§’è‰²å’ŒçŠ¶æ€çš„å”¯ä¸€ä¿®æ”¹æƒé™

## ä¸»è¦åŠŸèƒ½æ¨¡å—

### 1. è´¦æˆ·ä¿¡æ¯ (`/account`)
- æŸ¥çœ‹å’Œç¼–è¾‘ä¸ªäººèµ„æ–™
- ç®¡ç†é‚®ç®±åœ°å€ï¼ˆå¯å¤šä¸ªï¼‰
- ç®¡ç†æ‰‹æœºå·ç ï¼ˆæœ€å¤šä¸€ä¸ªï¼‰
- å…³è”åŒ»ç–—æœåŠ¡æä¾›è€…ï¼ˆæ‚£è€…/ç…§é¡¾è€…ï¼‰
- ç®¡ç†ç…§é¡¾å…³ç³»è¯·æ±‚ï¼ˆæ‚£è€…ï¼‰

### 2. é¢„çº¦æœåŠ¡ (`/appointment`)
- æœç´¢åŒ»ç–—æœåŠ¡æä¾›è€…
- åˆ›å»ºæ–°é¢„çº¦
- æŸ¥çœ‹é¢„çº¦å†å²
- å–æ¶ˆé¢„çº¦ï¼ˆéœ€æå‰24å°æ—¶ï¼‰

### 3. å¥åº·æŒ‘æˆ˜ (`/challenge`)
- **åŒ»ç–—æä¾›è€…**: åˆ›å»ºæŒ‘æˆ˜ã€é‚€è¯·æ‚£è€…
- **æ‚£è€…/ç…§é¡¾è€…**: æ¥å—/æ‹’ç»é‚€è¯·ã€æ›´æ–°è¿›åº¦
- **ç®¡ç†å‘˜**: æŸ¥çœ‹çƒ­é—¨æŒ‘æˆ˜ã€ç®¡ç†æŒ‘æˆ˜

### 4. æ‚£è€…ç›‘æŠ¤ (`/caregiver`)
- ç…§é¡¾è€…ä¸“å±åŠŸèƒ½
- å‘é€ç…§é¡¾è¯·æ±‚
- æŸ¥çœ‹è¢«ç…§é¡¾è€…å¥åº·æ•°æ®

### 5. ç³»ç»Ÿç®¡ç† (`/admin`)
- ç®¡ç†å‘˜ä¸“å±åŠŸèƒ½
- ç”¨æˆ·ç®¡ç†ï¼ˆè§’è‰²/çŠ¶æ€ï¼‰
- æä¾›è€…éªŒè¯
- ç³»ç»Ÿç»Ÿè®¡

### 6. æœˆåº¦æ±‡æ€» (`/summary`)
- æŸ¥çœ‹å¥åº·ç»Ÿè®¡æ•°æ®
- æ­¥æ•°ã€é¢„çº¦æ¬¡æ•°ç­‰æŒ‡æ ‡

### 7. æ•°æ®æœç´¢ (`/search`)
- å¤šæ¡ä»¶æœç´¢å¥åº·è®°å½•
- æŒ‰æ—¥æœŸã€æä¾›è€…ã€ç±»å‹ç­‰ç­›é€‰

## æ•°æ®åº“è¯´æ˜

### ä¸»è¦è¡¨ç»“æ„

- **USER**: ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼ˆå«user_roleå­—æ®µï¼‰
- **EMAIL**: ç”¨æˆ·é‚®ç®±ï¼ˆå¤šå€¼ï¼‰
- **PHONE**: ç”¨æˆ·æ‰‹æœºå·ï¼ˆ0..1ï¼‰
- **PROVIDER**: åŒ»ç–—æœåŠ¡æä¾›è€…
- **USER_PROVIDER**: ç”¨æˆ·-æä¾›è€…å…³è”
- **CAREGIVER_PATIENT**: ç…§é¡¾è€…-æ‚£è€…å…³è” â­ æ–°å¢
- **APPOINTMENT**: åŒ»ç–—é¢„çº¦
- **CHALLENGE**: å¥åº·æŒ‘æˆ˜
- **CHALLENGE_PARTICIPANT**: æŒ‘æˆ˜å‚ä¸è€…
- **INVITATION**: é‚€è¯·è®°å½•
- **FAMILY_GROUP**: å®¶åº­ç»„
- **GROUP_MEMBER**: å®¶åº­ç»„æˆå‘˜
- **MONTHLY_SUMMARY**: æœˆåº¦å¥åº·æ±‡æ€»

### å…³é”®çº¦æŸ

- æ¯ä¸ªç”¨æˆ·æœ€å¤šä¸€ä¸ªæ‰‹æœºå·
- æ¯ä¸ªç”¨æˆ·å¯ä»¥æœ‰å¤šä¸ªé‚®ç®±
- æ¯ä¸ªç”¨æˆ·æœ€å¤šä¸€ä¸ªä¸»æ²»åŒ»ç”Ÿï¼ˆis_primary=trueï¼‰
- é¢„çº¦å–æ¶ˆéœ€æå‰è‡³å°‘24å°æ—¶
- å®¶åº­ç»„è‡³å°‘éœ€è¦2åæ´»è·ƒæˆå‘˜
- é‚€è¯·çš„target_emailå’Œtarget_phoneäº’æ–¥
- ç…§é¡¾å…³ç³»éœ€è¦æ‚£è€…ç¡®è®¤åæ‰èƒ½ç”Ÿæ•ˆ

## å¼€å‘è¯´æ˜

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `model/` åŒ…ä¸­åˆ›å»ºå®ä½“ç±»
2. åœ¨ `dao/` åŒ…ä¸­åˆ›å»ºæ•°æ®è®¿é—®å¯¹è±¡
3. åœ¨ `servlet/` åŒ…ä¸­åˆ›å»ºæ§åˆ¶å™¨
4. åœ¨ `webapp/jsp/` ä¸­åˆ›å»ºJSPé¡µé¢

### ä»£ç è§„èŒƒ

- ä½¿ç”¨Javaå‘½åè§„èŒƒ
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- å¤„ç†å¼‚å¸¸æƒ…å†µ
- éªŒè¯ç”¨æˆ·è¾“å…¥
- ä½¿ç”¨JSTLæ¡ä»¶æ ‡ç­¾å®ç°è§’è‰²æƒé™æ§åˆ¶

## æ•…éšœæ’é™¤

### æ•°æ®åº“è¿æ¥é—®é¢˜

- æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦è¿è¡Œ
- éªŒè¯æ•°æ®åº“è¿æ¥ä¿¡æ¯æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æ•°æ®åº“å·²åˆ›å»ºä¸”è¡¨å·²åˆå§‹åŒ–
- MySQL 8.0+éœ€æ·»åŠ  `allowPublicKeyRetrieval=true`

### ç¼–è¯‘é”™è¯¯

- ç¡®ä¿Javaç‰ˆæœ¬ä¸º11æˆ–æ›´é«˜
- æ£€æŸ¥Mavenä¾èµ–æ˜¯å¦æ­£ç¡®ä¸‹è½½
- æ¸…ç†å¹¶é‡æ–°æ„å»º: `mvn clean install`

### è¿è¡Œæ—¶é”™è¯¯

- æ£€æŸ¥Tomcatæ—¥å¿—æ–‡ä»¶
- ç¡®è®¤æ‰€æœ‰ä¾èµ–å·²æ­£ç¡®éƒ¨ç½²
- éªŒè¯æ•°æ®åº“è¿æ¥é…ç½®

## æµ‹è¯•æ•°æ®

ç³»ç»Ÿå·²é¢„å¡«å……ä»¥ä¸‹æµ‹è¯•æ•°æ®ï¼š

- 10ä¸ªç”¨æˆ·è´¦æˆ·ï¼ˆåŒ…å«4ç§è§’è‰²ï¼‰
- 8ä¸ªåŒ»ç–—æœåŠ¡æä¾›è€…
- 10ä¸ªé¢„çº¦è®°å½•
- 6ä¸ªå¥åº·æŒ‘æˆ˜
- 15ä¸ªæŒ‘æˆ˜å‚ä¸è€…
- 8ä¸ªé‚€è¯·è®°å½•
- 3ä¸ªå®¶åº­ç»„
- 5æ¡ç…§é¡¾è€…-æ‚£è€…å…³ç³»
- 15æ¡æœˆåº¦æ±‡æ€»è®°å½•

## è´¡çŒ®è€…

- è‚–è½¶ä¼Ÿ 2025202110009
- è’‹ç¡• 2025202110005
- åˆ˜ä»²ç¿” 2025202110004

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ç”¨äºå­¦æœ¯ç›®çš„ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»é¡¹ç›®ç»„æˆå‘˜ã€‚
